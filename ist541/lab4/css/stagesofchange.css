@charset "UTF-8";

/* colors */
:root {
  --nav-bg: #CA877B;
  --nav-hover-bg: #A95F58;
	--activesite: #BF796f;
  --body-bg: #E6B5A8;
	--grey:#b19e9b;
  --text: #444;
	--display-font: "Shrikhand", cursive;
	--fun-font: "Wedges", cursive;
	--ui-radius: 12px;
  --nav-h: 64px;
	  /* add gentle success/error colors */
  --ok: #2e7d32;   /* green */
  --no: #c62828;   /* red */
}

.swap-img,
.hero__enter,
.stage-card { border-radius: var(--ui-radius); }
.swap-img--wide { width: 100%; max-width: 1100px; }

/* ========= BASE ========= */
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--body-bg);
  color: var(--text);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}


/* ========= NAVIGATION BAR ========= */


/* Sticky top nav with your colors */
.top-nav {
  position: sticky;
  top: 0;
  z-index: 2000;
  width: 100%;
  background: #CA877B;          /* fallback */
  background: var(--nav-bg);
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}

.top-nav ul {
  position: relative;            /* anchor for the subnav */
  list-style: none;
  margin: 0;
  padding: 0.6rem 1rem;
  display: flex;
  justify-content: space-evenly; /* equally spaced links */
  align-items: center;
  gap: 0.5rem;
}

.top-nav a {
  display: block;
  text-decoration: none;
  color: var(--text);
  font-weight: 600;
  padding: 0.55rem 0.8rem;
  border-radius: 6px;
}
.top-nav a:hover { 
	background: var(--nav-hover-bg);
	color: antiquewhite;
}
/* focus style to match hover */
.top-nav a:focus-visible {
  outline: none;
  background: var(--nav-hover-bg);
  color: antiquewhite;
  box-shadow: 0 0 0 2px rgba(255,255,255,.65) inset;
}

/* Ensure header (banner area) doesn't block sticky */
header { height: auto; overflow: visible; background: transparent; }


/* active nav look (tweak to taste) */
.top-nav a.is-active {
  background: var(--activesite);
  text-decoration: underline;
 color: antiquewhite;
}


/* ========= SUB MENU - NAVIGATION BAR ========= */


/* ===== Modules subnav (full-width popup strip) ===== */
/* Parent link gets a tiny dropdown arrow + a hover bridge */
.has-submenu > a { position: relative; }
.has-submenu > a::after { content: "▾"; margin-left: .35rem; font-size: .9em; }
.has-submenu > a::before {   /* invisible hover bridge below the link to prevent flicker */
  content: "";   position: absolute;   left: -8px; right: -8px;   top: 100%; height: 14px; }

/* Base (hidden) state — use opacity/visibility so we can animate */
.subnav {
  position: absolute;
  left: 0; right: 0;
  top: calc(100% - 1px);    /* hug the bottom of the nav */
  display: flex;
  justify-content: space-evenly;
  align-items: center;   /* compact vertical alignment */
  gap: clamp(6px, 1.5vw, 16px);
  padding: 0.2rem 0.75rem; /* keep compact; no bottom padding */
  background: #BF796f;
  box-shadow: 0 6px 12px rgba(0,0,0,.08);
  overflow: visible;                  /* allow tooltips to overflow below */

  opacity: 0;
  visibility: hidden;
  transform: translateY(-6px);
  pointer-events: none;   /* enable when shown */

  /* slower, smooth animation */
  transition:
    opacity 320ms cubic-bezier(.18,.88,.25,1),
    transform 320ms cubic-bezier(.18,.88,.25,1),
    visibility 0s linear 320ms;    /* hide after fade completes */
}

/* Left-aligned variant (for Welcome submenu only) */
.subnav--left {
  justify-content: flex-start;
  gap: clamp(8px, 2vw, 16px);
  padding-left: 5rem;   /* lines up with your nav padding */
  padding-right: 1rem;  /* optional, keeps breathing room on the right */
  text-align: left;
}


/* Show on hover OR keyboard focus */
.has-submenu:hover .subnav,
.has-submenu:focus-within .subnav {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
  transition-delay: 60ms, 60ms, 0s; /* slight intent delay */
}

/* Links inside the subnav */
.subnav a {
  position: relative;  /* anchor for tooltip & bridge */
  display: inline-block;
  color: var(--text);
  text-decoration: none;
  font-weight: 600;
  padding: 0.2rem 0.5rem;   /* compact click target */
  line-height: 1.2;
  white-space: nowrap;
}
.subnav a:hover,
.subnav a:focus-visible {
  background: var(--nav-hover-bg);
  outline: none;
}

/* Respect reduced motion preferences */
@media screen and (prefers-reduced-motion: reduce) {
  .subnav {
    transition: none !important;
    transform: none !important;
  }
}



/* Tooltips for subnav links using data-note */
.subnav a[data-note] { position: relative; }


/* Hidden by default — tooltip sits below the strip */
.subnav a[data-note]::after {
  /* text + box */
  content: attr(data-note);
  position: absolute;
  left: 50%;
  top: 100%;    /* no gap under the link */
  transform: translateX(-50%) translateY(10px); /* visual offset below strip */
  white-space: nowrap;
	  background: #506D68 ; /* tooltip color you chose */
  color: antiquewhite;
  font-size: 1rem;
  line-height: 1.0;
  padding: .25rem .5rem;
  border-radius: 4px;
  box-shadow: 0 6px 12px rgba(0,0,0,.14);
  opacity: 0;
  visibility: hidden;
	transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
  z-index: 1002;                           /* above the subnav strip */
  pointer-events: auto;
	cursor: pointer;
  transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
  z-index: 1002;       /* above the subnav strip */
}



/* Invisible “hover bridge” to prevent flicker between link and tooltip */
.subnav a[data-note]::before {
  content: "";
  position: absolute;
  left: -10px; right: -10px;
  top: 100%;
  height: 14px;                           /* covers the gap under the link */
  pointer-events: auto;                   /* moving over this keeps :hover */
}

/* Show tooltip on hover or keyboard focus */
.subnav a[data-note]:hover::after,
.subnav a[data-note]:focus-visible::after {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(10px);
  transition-delay: 40ms, 40ms, 0s;       /* slight intent delay */
}

/* CARET*/

/* Touch devices: no hover — show subtitle inline under each link for clarity */
@media (hover: none) and (pointer: coarse) {
  .subnav a[data-note]::after,
  .subnav a[data-note]::before { display: none; }

  .subnav a[data-note] {
    display: grid;
    grid-template-rows: auto auto;
    gap: 2px;
  }
  .subnav a[data-note]::after {
    display: block;
    position: static;
    transform: none;
    background: transparent;
    color: var(--text);
    opacity: .85;
    visibility: visible;
    padding: 0;
    box-shadow: none;
    white-space: normal;
    font-size: 0.8rem;
  }
}

/* ========= SUBNAV OPEN STATE ========= */


/* Keep subnav open when JS adds .is-open on the parent <li> */
.has-submenu.is-open .subnav {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  pointer-events: auto;
  transition-delay: 0s, 0s, 0s;
  z-index: 1002;
}



/* Keep long subnavs on-screen and BELOW the sticky nav on narrow viewports */
@media (max-width: 700px) {
  .has-submenu { position: static; }  /* let the panel escape the li */

  .subnav {
    position: fixed;                            /* attach to the viewport */
    left: 0;
    right: 0;
    /* JS will set --subnav-top to the nav's bottom (viewport coords) */
    top: var(--subnav-top, calc(var(--nav-h) + env(safe-area-inset-top, 0px)));
    max-height: calc(
      100svh - var(--subnav-top, var(--nav-h)) - env(safe-area-inset-bottom, 0px)
    );
    overflow-y: auto;
    z-index: 999;                               /* nav stays above at 1000 */
    flex-wrap: wrap;
    row-gap: 6px;
    gap: 8px 12px;
    justify-content: flex-start;                /* left align items */
    padding: .5rem .75rem;
  }

  /* Hide hover tooltips on touch-sized layouts */
  .has-submenu > a::before { display: none; }
  .subnav a[data-note]::after,
  .subnav a[data-note]::before { display: none !important; }
}



/* ========= HEADINGS ========= */


h1 {
  font-family: var(--display-font, "Shrikhand", cursive);
  text-align: center;
  font-size: clamp(2.6rem, 4.5vw + 0.5rem, 5rem);
  line-height: 1.0;
  letter-spacing: .5px;
  margin: 1rem 0 .5rem;
}
h2{text-align: center}

h3 {
  text-align: center;
  margin: 0 0 .5rem;
  font-weight: 600;
}
h4{font-size: 120%}

figcaption {
	color: #A95F58;
font-size: clamp(2.6rem, 4.5vw + 0.5rem, 5rem);
}

/* ========= TITLES ========= */


.title-stack { text-align: center; margin: 1rem 0 .5rem; }

.title-stack .pretitle {
  display: block;
  font-family: var(--display-font, "Shrikhand", cursive); /* match your H1 font */
  font-size: clamp(1.5rem, 1.8vw + .2rem, 2.5rem);       /* smaller than H1 */
  line-height: 1.05;
  letter-spacing: .7px;
  margin-bottom: .2rem;
  color: var(--text);
  opacity: .95; /* optional: a tiny bit softer */
}

.title-stack h1 { margin: 0; letter-spacing: .7px; } /* remove the gap between the two lines */
.title-stack h2 { margin: 0; } /* remove the gap between the two lines */
.title-stack h3 { margin: 0; } /* remove the gap between the two lines */
.title-stack p { margin: 0; } /* remove the gap between the two lines */
/* === (Optional) visually-hidden helper used by skip links === */
.sr-only {
  position: absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip: rect(0 0 1px 1px); white-space:nowrap; border:0;
}



/* Full-bleed title band using your gray → pink gradient */
.title-band {
  --band-start: #BF796f;  /* your gray */
--band-mid: #CA877B;
  --band-end:   #E6B5A8;  /* your pink */
  --band-pad-block: clamp(7px, 2.4vw, 28px);

  /* readability overlay + color gradient */
  background:     
    linear-gradient(180deg, 
		var(--band-start) 00%, 
		var(--band-mid) 0%, 
		var(--band-end)100%);
	
margin-top: .15rem;
  color: var(--band-fg);
  /* escape the centered layout */
  width: 100dvw;                 /* avoids scrollbar-width issues */
  max-width: 100dvw; 

  /* full-bleed trick */
  margin-inline: calc(50% - 50vw);
  padding-block: var(--band-pad-block);
  padding-inline: 1rem; 
}


/* center whatever you put inside the band */
.title-band > *{
  max-width: 1100px;                    /* your page width */
  margin-left: auto;
  margin-right: auto;                   /* centers .title-stack */
}


.title-band .title-stack h1,
.title-band .title-stack h2,
.title-band .title-stack .pretitle { color: inherit; }



/* Full-bleed tail band: blends from page bg → deeper tones at the bottom */
.tail-band {
  --tail-top: var(--body-bg);      /* #E6B5A8 */
  --tail-mid: #CA877B;             /* your mid rose */
  --tail-bot: #BF796F; /* #A95F58 */

  /* gradient downwards (top light -> bottom darker) */
  background: linear-gradient(180deg,
              var(--tail-top) 0%,
              var(--tail-mid) 100%,
              var(--tail-bot) 90%);

  /* full-bleed */
  margin-inline: calc(50% - 50vw);
  width: 100vw;
  max-width: 100vw;

  /* spacing to taste */
  padding-block: clamp(3px, 3vw, 30px);
  padding-inline: max(20px, calc(50vw - 550px));

  color: #2b1d1b; /* readable on lighter top; inherits for headings */
}

/* optional: a 1px fade at the top edge to avoid any visible seam */
.tail-band::before {
  content: "";
  position: absolute;
  inset: 0 0 auto 0;
  height: 8px;
  background: linear-gradient(180deg, rgba(0,0,0,0.04), transparent);
  pointer-events: none;
}

.tail-band .title-stack h1,
.tail-band .title-stack h2,
.tail-band .title-stack .pretitle { color: inherit; }








/* ========= SECTION IMAGES BANNERS ========= */


.section-hero {
  position: relative;
  width: 100vw;
  height: clamp(140px, 28vh, 320px);
  margin: 1rem 0;
  margin-left: calc(50% - 50vw);   /* stretch edge-to-edge */
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
  overflow: hidden;
}

/* Overview */
.section-hero--overview {
  background-image: url("../img/headeroverview.jpg");
	height: clamp(10px, 15vh, 20px);
	background-position: bottom;
}

/* Motivational Interviewing */
.section-hero--motivationalinterviewing {
  background-image: url("../img/headermotivationalinterviewing.jpg"); 
}


/* Optional centered label over the image */
.section-hero__label {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  color: antiquewhite;
  font-weight: 700;
  text-shadow: 0 2px 6px rgba(0,0,0,.35);
  font-size: clamp(1.1rem, 2.2vw + .3rem, 2rem);
  padding: 0 .75rem;
}



/* ========= DIVIDERS ========= */


.divider--full {
  position: relative;                 /* enables overlay positioning */
  width: 100dvw;
  height: 72px;
  background: center / cover no-repeat url("../img/divider.jpg");
  margin: .75rem 0 1px;
  margin-left: calc(50% - 50vw);      /* keep edge-to-edge */
  overflow: hidden;                    /* trims any overlay bleed */
}

/* optional subtle dark veil for readability */
.divider--full::after {
  content: "";
  position: absolute; inset: 0;
  background: rgba(0,0,0,.35);        /* lower if too dark, e.g. .15 */
}

/* the text itself */
.divider__label {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  z-index: 1;                          /* above the veil */
  color: #fff;                 /* or #fff */
  font-weight: 700;
    font-size: clamp(2.6rem, 4.5vw + 0.5rem, 5rem);
  line-height: 1.0;
  letter-spacing: .5px;
  margin: 1rem 0 .5rem;
  text-align: center;
  padding: 0 .75rem;                   /* breathing room at small widths */
  text-shadow: 0 2px 6px rgba(0,0,0,.35); cursor: default;
}




.divider--inset { height: 16px; }

/* ========= LANDING PAGE ========= */


/* === Landing hero: therapy room + hover ENTER overlay === */
.hero-link { display: block; text-decoration: none; color: inherit; }

.hero {
  position: relative;
  width: 100%;
  height: clamp(50vh, 70vh, 90vh); /* responsive height */
  overflow: hidden;
  cursor: pointer;
  outline: none;
}

.hero__bg {
  position: absolute;
  inset: 0;
  width: 100%; height: 100%;
  object-fit: cover;
}

.hero__enter {
  position: absolute;
  inset: 0; margin: auto;
  width: min(40vw, 340px);
  height: auto;
  opacity: 0;
  transform: scale(0.98);
  transition: opacity .18s ease, transform .18s ease;
  pointer-events: none;
  filter: drop-shadow(0 8px 16px rgba(0,0,0,.35));
}

.hero:hover .hero__enter,
.hero:focus-visible .hero__enter,
.touching .hero__enter {
  opacity: 1;
  transform: scale(1);
}


/* ========= SCROLLING ========= */


/* Smooth scrolling when clicking #links */
html { scroll-behavior: smooth; }

/* Make sure anchored sections aren’t hidden under the sticky nav */
section {
  scroll-margin-top: calc(var(--nav-h) + 12px);
  padding: 1.25rem 1rem;          /* comfy spacing; tweak as you like */
  max-width: 1100px;              /* optional content width */
  margin: 0 auto;                 /* center content */
}

html, body { overflow-x: clip; }



/* Call-to-action buttons/links */
a.cta {
  display: inline-block;
  background: var(--nav-hover-bg);
  color: antiquewhite;
  padding: .45rem .8rem;
  border-radius: 6px;
  text-decoration: none;
  font-weight: 700;
  box-shadow: 0 2px 6px rgba(0,0,0,.12);
  transition: transform .12s ease, box-shadow .12s ease, background-color .2s ease;
}
a.cta:hover,
a.cta:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(0,0,0,.16);
  outline: none;
}










/* ========= HOME PAGE ========= */


.swap-box { text-align: center; margin: 1rem 0; }
.swap-img {
  width: min(420px, 92%);
  height: auto;
    box-shadow: 0 6px 16px rgba(0,0,0,.12);
  transition: transform .15s ease;
	display: block; margin: 0 auto;
	border-radius: var(--ui-radius);
}
.swap-img:hover { transform: scale(1.01); }
.swap-caption { opacity: .8; margin-top: .35rem; font-size: .95rem; }




/* ========= STAGES OF CHANGE ========= */



/* Stages of Change cards */
.stage-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 16px;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 1rem 1.25rem;
}

.stage-card {
  background: #fff;
  color: #444;               /* fallback */
  color: var(--text);        /* preferred */
  border: 1px solid rgba(0,0,0,.08);
    padding: 1rem;
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  transition: transform .15s ease, box-shadow .15s ease;
	border-radius: var(--ui-radius);
}

.stage-card h3 {
  margin: 0 0 .5rem;
  font-size: 1.05rem;
}

.stage-card p {
  margin: 0;
  line-height: 1.5;
}

.stage-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 14px rgba(0,0,0,.12);
}





/* Card grid variant */
.stage-grid--cards {
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
}

/* Clickable image card */
.stage-card--image {
  position: relative;
  display: block;            /* make the whole card clickable */
  padding: 0;                /* override padded text-card look */
  overflow: hidden;
  border-radius: var(--ui-radius, 12px);
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  aspect-ratio: 32 / 32;      /* consistent tile shape */
  background: #fff;
  text-decoration: none;     /* remove underline on label */
/* make room for a visible ring without shifting layout */
  border: 2px solid transparent;
  transition: transform .25s ease, box-shadow .25s ease, border-color .15s ease;
}

/* Image fills the card */
.stage-card--image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: transform .25s ease;
}

/* Subtle overlay gradient for label readability */
.stage-card--image::after {
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,.35), rgba(0,0,0,0));
  pointer-events: none;
}

/* Label over the image */
.stage-card__label {
  position: absolute;
  left: 10px;
  bottom: 10px;
  padding: .25rem .55rem;
  border-radius: 6px;
  font-weight: 700;
  color: antiquewhite;
  background: color-mix(in srgb, var(--nav-bg) 82%, transparent);
  /* if color-mix isn't supported, fallback */
  background: rgba(202, 135, 123, 0.82);
  text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* Hover/focus effect */
.stage-card--image:hover img,
.stage-card--image:focus-visible img {
  transform: scale(1.03);
}
.stage-card--image:hover .stage-card__label,
.stage-card--image:focus-visible .stage-card__label {
  background: var(--nav-hover-bg);
  outline: none;
}


/* --- Flip add-on for image cards --- */
.stage-card--flip {
  position: relative;
  perspective: 1000px;              /* 3D flip */
}

/* inner wrapper that actually rotates */
.stage-card__inner {
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: transform .45s ease;
  border-radius: inherit;
}

/* front/back faces */
.stage-card__face {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  backface-visibility: hidden;
  overflow: hidden;
}

/* FRONT: keep your image card look */
.stage-card__face--front img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* move your existing overlay gradient to the front face */
.stage-card__face--front::after {
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,.35), rgba(0,0,0,0));
  pointer-events: none;
}

/* label stays on the front */
.stage-card__label {
  position: absolute;
  left: 10px;
  bottom: 10px;
  padding: .25rem .55rem;
  border-radius: 6px;
  font-weight: 700;
  color: antiquewhite;
  background: rgba(202, 135, 123, 0.82); /* fallback for color-mix */
  text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* BACK: definition side */
.stage-card__face--back {
  background: #fff;
  color: var(--text);
  transform: rotateY(180deg);
  display: grid;
  place-items: center;
  padding: .9rem;
  text-align: center;
  box-shadow: inset 0 0 0 4px rgba(0,0,0,.04);
}

.stage-card__face--back h4 {
  margin: 0 0 .35rem;
  font-size: 1.05rem;
}

.stage-card__hint {
  display: block;
  margin-top: .35rem;
  font-size: .9rem;
  opacity: .75;
}

/* When flipped */
.stage-card--flip.is-flipped .stage-card__inner {
  transform: rotateY(180deg);
}

/* Keep your nice hover scale on the IMAGE only (front). Optional. */
.stage-card--flip:hover .stage-card__face--front img,
.stage-card--flip:focus-visible .stage-card__face--front img {
  transform: scale(1.03);
  transition: transform .25s ease;
}

/* Make the whole card act like a button but keep layout */
.stage-card--flip {
  border: 2px solid transparent;
  transition: transform .25s ease, box-shadow .25s ease, border-color .15s ease;
}
.stage-card--flip:focus-visible {
  outline: none;
  border-color: var(--nav-hover-bg);
}





.stage-card--image.is-correct {
  border-color: var(--ok);
  /* shadow ring (with fallback if color-mix unsupported) */
  box-shadow:
    0 0 0 3px rgba(46,125,50,.25),
    0 2px 10px rgba(0,0,0,.12);
}

.stage-card--image.is-wrong {
  border-color: var(--no);
  box-shadow:
    0 0 0 3px rgba(198,40,40,.25),
    0 2px 10px rgba(0,0,0,.12);
}

/* optional: dim non-selected after a pick (JS toggles .is-selected on the chosen one) */
.js-quiz.has-picked .stage-card--image:not(.is-selected) {
  opacity: .9;
  filter: saturate(.9);
}

/* quiz controls */
.quiz-controls {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: .5rem;
}
.quiz-controls .quiz-reset {
  padding: .35rem .7rem;
  border-radius: 6px;
  border: 1px solid rgba(0,0,0,.15);
  background: #fff;
  cursor: pointer;
}
.quiz-controls .quiz-reset:hover { background: #f7f7f7; }
.quiz-feedback { margin: 0; font-weight: 600; }



/* ---------- Flip cards (explore) ---------- */
.sc-grid {} /* reuse your .stage-grid sizing */

.sc-card { perspective: 1000px; }
.sc-btn {
  appearance: none; -webkit-appearance: none;
  position: relative; width: 100%;
  aspect-ratio: 4 / 4;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: var(--ui-radius);
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  background: #fff; cursor: pointer; padding: 0;
}
.sc-btn:focus-visible { outline: 1px solid rgba(255,255,255,.9); outline-offset: 2px; }

.sc-inner { position: absolute; inset: 0; border-radius: inherit;
  transform-style: preserve-3d;
  transition: transform .6s cubic-bezier(.2,.7,.2,1);
}
.sc-btn.is-flipped .sc-inner { transform: rotateY(180deg); }

.sc-face { position: absolute; inset: 0; border-radius: inherit; backface-visibility: hidden; overflow: hidden; display: grid; place-items: center; padding: .5rem; }
.sc-front { background: #fff; }
.sc-front img { width: 100%; height: 100%; object-fit: cover; display: block; }
.sc-label {
  position: absolute; left: 8px; bottom: 8px;
  background: var(--nav-hover-bg); color: antiquewhite;
  font-weight: 700; padding: .25rem .5rem; border-radius: 8px;
}
.sc-back { background: var(--nav-bg); color: antiquewhite; transform: rotateY(180deg); text-align: left; padding: .8rem; }
.sc-back h4 { margin: 0 0 .35rem; font-size: 1.05rem; }
.sc-back p { margin: 0; line-height: 1.45; }

@media (prefers-reduced-motion: reduce) { .sc-inner { transition: none; } }

/* ---------- Quiz cards ---------- */
.quiz-prompt { margin: .01 0 .5rem; font-weight: 600; text-align: center; text-size:150%; }
.quiz-grid {} /* reuses .stage-grid layout */

.quiz-card {
  display: grid; place-items: center;
  min-height: 110px; padding: .75rem;
  border: 2px solid rgba(0,0,0,.08);
  border-radius: var(--ui-radius);
  background: #fff; color: var(--text);
  font-weight: 700; cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, border-color .2s ease, background-color .2s ease;
}
.quiz-card:hover, .quiz-card:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(0,0,0,.12);
  outline: none;
}

:root { --ok:#2e7d32; --bad:#c0392b; }
.quiz-card.is-correct { border-color: var(--ok); box-shadow: 0 0 0 3px color-mix(in srgb, var(--ok) 25%, transparent); }
.quiz-card.is-wrong   { border-color: var(--bad); box-shadow: 0 0 0 3px color-mix(in srgb, var(--bad) 25%, transparent); }

.quiz-actions { text-align: center; margin-top: .5rem; }
.quiz-reset {
  background: var(--nav-hover-bg); color: antiquewhite;
  border: 0; border-radius: 6px; padding: .4rem .75rem; font-weight: 700; cursor: pointer;
}
.quiz-reset:hover, .quiz-reset:focus-visible { filter: brightness(1.05); outline: none; }
.quiz-feedback { text-align: center; margin: .5rem 0 0; min-height: 1.2em; }




.image-quiz__display {
  max-width: clamp(280px, 62vw, 540px);
  margin: 0 auto;
  padding: 0 1rem;
	background: transparent;
	border: 0;
	box-shadow: none;
align-content: center;
}

.image-quiz__img {
	display: block;
  width: 360px;
  height: auto;
  max-height: 360px;         /* cap height so  tall images don’t dominate */
  object-fit: contain;       /* keep full image visible inside the box */
  border-radius: var(--ui-radius);
  box-shadow: 0 6px 16px rgba(0,0,0,.85);align-content: center;
}

.image-quiz__img.is-visible { opacity: 1; }
.image-quiz__img.is-preview { opacity: .65; filter: none; }           /* hover preview */
.image-quiz__img.is-correct { opacity: 1;   filter: none; }           /* correct */
.image-quiz__img.is-wrong   { opacity: 1;   filter: grayscale(90%) brightness(.8); } /* wrong */
.image-quiz__caption {
  text-align: center; opacity: .85; font-size: .95rem; margin-top: .35rem;
}

/* small polish on picked buttons */
.quiz-card.is-correct { border-color: var(--ok); }
.quiz-card.is-wrong   { border-color: var(--no); }




/* Quiz for goal game */
/* Small pill that shows the stage name */
.stage-pill {
  display: inline-block;
  margin: 2rem .9rem .9rem .9rem;   /* adds left/right space between pills */
  padding: .5rem .5rem;
  border-radius: 999px;
  background: var(--nav-bg);
  color: antiquewhite;
  font-weight: 500;
	font-size: 150%;
}

/* Make text cards comfy */
.text-quiz .quiz-card {
  text-align: left;
  line-height: 1.15;
  font-weight: 500;
}

/* Nice paragraph spacing inside options */
.text-quiz .quiz-card p { margin: 0; }

/* Score line */
.quiz-score { margin-left: .5rem; opacity: .85; font-weight: 600; }

#tq-stage.stage-pill { display: table; margin: 0 auto .5rem; }


/* Layout for the choices */
.tg-choices {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 14px;
  align-items: stretch;                 /* stretch items to equal height per row */
}

/* Style the choice buttons (“pills”)  */
.tg-pill,
.quiz-card {                            /* include your older class just in case */
  appearance: none;
  -webkit-appearance: none;
  display: flex;
  align-items: center;
  justify-content: center;

  width: 100%;
  /* This height is the key: ensures consistent size; JS below will equalize too */
  min-height: 64px;

  padding: 0.9rem 1.1rem;
  border-radius: 9999px;                /* pill shape */
  border: 2px solid transparent;
  background: #fff;
  color: var(--text);
  text-align: center;

  font-weight: 800;
  font-size: clamp(1.05rem, 0.9vw + .75rem, 1.25rem);  /* bigger text */
  line-height: 1.35;

  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  transition: transform .12s ease, box-shadow .12s ease, border-color .2s ease, background-color .2s ease;
}

.tg-pill:hover,
.tg-pill:focus-visible,
.quiz-card:hover,
.quiz-card:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(0,0,0,.12);
  outline: none;
  background: color-mix(in srgb, var(--nav-bg) 8%, white);
}

/* Correct / wrong states (keeps your existing colors) */
.tg-pill.is-correct,
.quiz-card.is-correct {
  border-color: var(--ok);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--ok) 25%, transparent);
}

.tg-pill.is-wrong,
.quiz-card.is-wrong {
  border-color: var(--no);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--no) 25%, transparent);
}

/* Optional: make selected feel pressed */
.tg-pill[aria-pressed="true"] {
  background: color-mix(in srgb, var(--nav-bg) 12%, white);
}

/* Mobile: a tad tighter if needed */
@media (max-width: 420px) {
  .tg-pill,
  .quiz-card {
    min-height: 56px;
    font-size: clamp(1rem, 3.5vw, 1.15rem);
  }
}


/* More space between the pills */
.tg-choices {
  /* bigger row + column spacing, responsive */
  column-gap: clamp(16px, 2.2vw, 28px);
  row-gap: clamp(19px, 2.6vw, 32px);
  padding-block: .25rem; /* a little breathing room above/below */
}

/* (optional) a touch more padding on each pill so the extra space feels balanced */
.tg-pill,
.quiz-card {
  padding: 1rem 1.2rem;     /* was 0.9rem 1.1rem */
}



/* Goal Quiz container */
.goal-quiz{
  --box-bg: var(--activesite, #BF796f);
  --box-fg: #fff;
  --box-ring: rgba(255,255,255,.7);

  background: var(--box-bg);
  color: var(--box-fg);

  /* thin white outline + soft shadow */
  border: 1.2px solid var(--box-ring);
  border-radius: calc(var(--ui-radius, 12px) * 1.6);
  box-shadow: 0 6px 16px rgba(0,0,0,.12);

  /* spacing + width */
  padding: clamp(14px, 2.4vw, 28px);
  margin: clamp(10px, 2vw, 20px) auto;
  max-width: 1100px;
}

/* Keep headings readable on the colored background */
.goal-quiz h2,
.goal-quiz h3,
.goal-quiz .stage-pill { color: #fff; }

/* Cards/pills stay light for contrast inside the colored box */
.goal-quiz .quiz-card,
.goal-quiz .tg-pill{
  background: #fff;
  color: var(--text, #444);
  border-color: var(--grey);               /* let the white card edge look clean */
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}

/* Hover inside colored box = a tiny tint */
.goal-quiz .quiz-card:hover,
.goal-quiz .quiz-card:focus-visible,
.goal-quiz .tg-pill:hover,
.goal-quiz .tg-pill:focus-visible{
  background: color-mix(in srgb, #fff 92%, var(--nav-bg, #CA877B));
}

/* Reset button looks like a light pill on the colored background */
.goal-quiz .quiz-reset{
  background: #fff;
  color: var(--nav-hover-bg, #A95F58);
  border: 1px solid rgba(0,0,0,.08);
}
.goal-quiz .quiz-reset:hover,
.goal-quiz .quiz-reset:focus-visible{
  filter: none;
  background: color-mix(in srgb, #fff 88%, var(--nav-hover-bg, #A95F58));
}

/* Optional: tighten inner layout a touch inside the box */
.goal-quiz .tg-choices{
  column-gap: clamp(14px, 2vw, 24px);
  row-gap: clamp(16px, 2.2vw, 28px);
}





/* === Module 3: DARN-CAT media cards === */
.media-card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
  max-width: 1100px;
  margin: 0 auto 1.25rem;
  padding: 0 1rem;
}

.media-card {
  background: #b19e9b;
  color: var(--text);
  border: 1px solid rgba(0,0,0,.08);
  border-radius: var(--ui-radius);
  padding: 0.85rem;
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  transition: transform .15s ease, box-shadow .15s ease;
  text-align: center;
}
.media-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 14px rgba(0,0,0,.12);
}

.media-card img {
  display: block;
  width: min(240px, 100%);
  height: auto;
  border-radius: var(--ui-radius);
  box-shadow: 0 4px 12px rgba(0,0,0,.10);
  margin: 0 auto .5rem;
}

.media-title {
  font-weight: 800;
  margin: .25rem 0 .35rem;
}

.media-audio {
  width: 100%;
  max-width: 320px;   /* keeps controls tidy */
  margin: .25rem auto 0;
  display: block;
}



/* default spacing stays as-is for cards WITH images */
.media-card:has(img) {
  padding: 0.85rem;
}

/* compact spacing when there's NO image */
.media-card:not(:has(img)) {
  padding: 0.6rem 0.7rem;          /* tighter padding */
  line-height: 1.3;                /* slightly tighter lines */
}

.media-card:not(:has(img)) .media-title {
  margin: .15rem 0 .25rem;         /* smaller title margin */
  font-size: 1rem;                  /* optional: slightly smaller title */
}

.media-card:not(:has(img)) p {
  margin: 0 0 .35rem;              /* reduce paragraph spacing */
}

.media-card:not(:has(img)) .media-audio {
  margin-top: .2rem;               /* pull audio up */
  max-width: 100%;
}


/* same compact rules but via class */
.media-card--compact {
  padding: 0.6rem 0.7rem;
  line-height: 1.3;
}
.media-card--compact .media-title { margin: .15rem 0 .25rem; font-size: 1rem; }
.media-card--compact p { margin: 0 0 .35rem; }
.media-card--compact .media-audio { margin-top: .2rem; }


/* ===== MI steps accordion (final) ===== */

/* Accordion container: same width as media cards, centered */
.mi-steps-wrap {
  max-width: 1100px;      /* matches your stage-grid container */
  margin: 0 auto 1rem;    /* center + bottom spacing */
  padding: 0 1rem;        /* same side padding as sections */
}

.mi-steps {
  display: grid;
  gap: 12px;              /* keep your spacing between items */
}

/* one item */
.mi-step {
  border-radius: var(--ui-radius);
  overflow: hidden;
  border: 1.2px solid rgba(0,0,0,.08);
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  background: #fff;
}

/* title bar */
.mi-step > summary {
  list-style: none;
  cursor: pointer;
  padding: 07px 10px;
  background: var(--nav-bg);
  color: #fff;
  font-weight: 800;
  font-size: 185%;
  display: flex;
  align-items: center;
  justify-content: space-between;
	gap: 10px;
}


.mi-step > summary::-webkit-details-marker { display: none; }
.mi-step > summary:hover,
.mi-step > summary:focus-visible {
  background: var(--nav-hover-bg);
  outline: none;
}

.mi-summary {
  display: flex;
  align-items: baseline;
  gap: .6rem;
  flex-wrap: wrap;
  line-height: 1.1;
}
.mi-summary-title { font-weight: 800; } /* inherits  the big size */
.mi-summary-sub {/* the “small title” / tagline */
  font-weight: 600;
  opacity: .95; /* readable but smaller than the main line */
  font-size: clamp(.9rem, .45vw + .6rem, 1.05rem);
  color: antiquewhite; /* matches your summary text color */
}





/* keep your chevron behavior as-is */
.mi-step > summary::after {
  content: "▾";
  font-size: .9em;
  margin-left: auto;             /* stay all the way to the right */
  transition: transform .2s ease;
}
.mi-step[open] > summary::after { transform: rotate(180deg); }








/* caret */
.mi-step > summary::after {
  content: "▾";
  font-size: .9em;
  margin-left: 10px;
  transition: transform .2s ease;
}
.mi-step[open] > summary::after { transform: rotate(180deg); }

/* revealed panel */
.mi-step__content {
  background: #fff;
  border-top: 4px solid var(--grey);
  padding: 1px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 8px;
  color: var(--text);
}


/* one columns */
.mi-step_onecolumn {
  width: 82%;
  padding: .3px;
  line-height: 1.1;
	font-size: 104%;}



/* two columns */
.mi-step__voice {
  width: 62%;
  padding: .3px;
  line-height: 1.1;
  font-size: 104%;
}
.mi-step__bullets {
  width: 33%;
  padding: .2px;
	padding-top: 5px;
}
.mi-step__bullets ul { margin: 0; padding-left: .9rem; }
.mi-step__bullets li { margin: .0rem 0; }
.mi-step__bullets li::marker { color: var(--grey); }

@media (max-width: 760px) {
  .mi-step__voice,
  .mi-step__bullets { width: 100%; }
}

/* subtle open-state outline */
.mi-step[open] { outline: 2px solid rgba(0,0,0,.04); outline-offset: -2px; }



/* ===== Static (always open) module previews ===== */
/* make the card look like an opened accordion */
.mi-step--static {
  border-radius: var(--ui-radius);
  overflow: hidden;
  border: 1.2px solid rgba(0,0,0,.08);
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  background: #fff;
}

/* title bar (replaces the <summary/> look) */
.mi-step--static .mi-step__title {
  background: var(--nav-bg);
  color: #444;
  font-weight: 800;
	font-size: 205%;
  font-size: clamp(1.15rem, 1.2vw + .4rem, 1.6rem);
  padding: 8px 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.mi-step--static .mi-step__title small {
  font-weight: 600;
  opacity: .95;
}

/* two-column content: image left, text right */
.mi-step--static .mi-step__content {
  border-top: 4px solid var(--grey, #b19e9b);
  padding: 10px;
  display: grid;
  grid-template-columns: 1fr 1.2fr;   /* 45/55-ish */
  gap: 12px;
  color: var(--text);
}

/* media column */
.mi-media {
  margin: 0;
}
.mi-media img {
  display: block;
  width: 100%;
  height: auto;
  border-radius: var(--ui-radius);
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
}

/* text column */
.mi-desc { line-height: 1.4; }
.mi-desc p { margin: 0 0 .6rem; }

/* CTA aligns nicely under text */
.mi-desc .cta {
  display: inline-block;
  margin-top: .25rem;
}

/* responsive: stack on narrow screens */
@media (max-width: 760px) {
  .mi-step--static .mi-step__content {
    grid-template-columns: 1fr;
  }
}




/* Thin banner under the nav on content pages */
.room-strip {
  width: 100%;
}

.room-strip img {
  display: block;
  width: 100%;
  height: auto;
}

/* Optional: a little breathing room before content */
main { padding-top: 0.75rem;
max-width: 1100px;
  margin: 0 auto;
  padding: 0 1rem;}









/* ========= VIDEO ========= */
/* ========= VIDEO ========= */
/* ========= VIDEO ========= */


.video-wrap {
  max-width: 700px;            /* or 500px if you want it smaller */
  margin: 0 auto 1rem;
  padding: 0 1rem;             /* side breathing room on mobile */
}

.video {
  width: 100%;
  height: auto;
  border-radius: var(--ui-radius);
  box-shadow: 0 6px 16px rgba(0,0,0,.12);
}

.video-caption {
  text-align: center;
  opacity: .85;
  font-size: .95rem;
  margin-top: .35rem;
}






/* ========= FOOTER ========= */
/* ========= FOOTER ========= */
/* ========= FOOTER ========= */

.site-footer {
  background: var(--nav-bg);
  color: var(--text);
  margin-top: 0rem; margin-bottom:.05rem; overflow:auto;
}

.site-footer a {
  display: inline-block;               /* prevents layout shift on hover */
  padding: 0.1rem 0.01rem;
  border-radius: 1px;
  text-decoration: none;
  color: var(--text);
  transition: background-color .2s ease, color .2s ease, text-decoration-color .2s ease;
}

/* Hover/focus: lighter text and darker pill */
.site-footer a:hover,
.site-footer a:focus-visible {
  text-decoration: underline;
  color: antiquewhite;
  background: var(--nav-hover-bg);
  outline: none;                       /* we’ll show a custom focus below */
}

/* High-visibility keyboard focus (optional but recommended) */
.site-footer a:focus-visible {
  box-shadow: 0 0 0 2px rgba(255,255,255,.9) inset;
}

/* Layout */
.footer-top {
  max-width: 1100px;
	font-weight:500;
  margin: 0 auto;
  padding: 0.65rem 1rem;
  display: flex;
  gap: 5px;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
}

.footer-brand { 
	font-weight: 400;
	font-size: 120%;
	font-family: var(--display-font);
  letter-spacing: .3px; /* optional polish */
}

.footer-nav {
  display: flex;
  gap: clamp(2px, 2vw, 15px);
  flex-wrap: wrap;
}

/* Back to top */
.back-to-top {
  padding: 0.3rem 0.55rem;
  border-radius: 6px;
  background: rgba(255,255,255,0.14);
  color: var(--text);
  transition: background-color .2s ease, color .2s ease;
}
.back-to-top:hover,
.back-to-top:focus-visible {
  background: rgba(255,255,255,0.22);
  color: antiquewhite;
}

/* Bottom strip */
.footer-bottom {
  background: var(--nav-hover-bg);
  color: antiquewhite;
  text-align: center;
  padding: 0.4rem .8rem;
  font-size: 1rem;
}

.byline { opacity: .85; font-weight: 600; }
